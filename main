-- Load Kavo UI if not already loaded
local Library = loadstring(game:HttpGet("https://raw.githubusercontent.com/xHeptco/UILib/main/KavoUI.lua"))()
local Window = Library.CreateLib("Tool Utilities", "Sentinel")

local Tab = Window:NewTab("Hitbox")
local Section = Tab:NewSection("Hitbox Extender")

local toolsFolder = workspace:WaitForChild("CrimsonsMoons")

local running = false
local connection = nil -- for ChildAdded event

local function resizeHitbox(tool)
    local hitbox = tool:FindFirstChild("Hitbox")
    if hitbox and hitbox:IsA("BasePart") then
        hitbox.Size = Vector3.new(50, 50, 50)
        hitbox.CFrame = tool.CFrame
        hitbox.CanCollide = false
        hitbox.Anchored = true
        -- Optional: Transparency so you don't see it (if you want)
        hitbox.Transparency = 0.7
        print("Resized hitbox for tool:", tool.Name)
    else
        warn("No valid hitbox found for tool:", tool.Name)
    end
end

-- Function to enable or disable auto hitbox resize
local function setRunning(state)
    running = state
    if running then
        -- Resize existing tools
        for _, tool in pairs(toolsFolder:GetChildren()) do
            resizeHitbox(tool)
        end
        -- Listen for new tools
        connection = toolsFolder.ChildAdded:Connect(function(tool)
            resizeHitbox(tool)
        end)
        print("Hitbox extender: ON")
    else
        -- Disconnect event to stop auto resizing new tools
        if connection then
            connection:Disconnect()
            connection = nil
        end
        print("Hitbox extender: OFF")
    end
end

-- Create toggle button in GUI
Section:NewToggle("Toggle Big Hitboxes", "Make all tool hitboxes huge and keep updating new ones", function(value)
    setRunning(value)
end)
