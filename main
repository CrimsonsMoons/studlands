-- Load Kavo UI
local Library = loadstring(game:HttpGet("https://raw.githubusercontent.com/xHeptco/KnifeHub/main/UILib.lua"))()
local Window = Library.CreateLib("StudLand V2 - Tool Keybinds", "Ocean")

local Players = game:GetService("Players")
local UserInputService = game:GetService("UserInputService")

local LocalPlayer = Players.LocalPlayer
local Character = LocalPlayer.Character or LocalPlayer.CharacterAdded:Wait()

-- Tool + keybind mapping
local toolKeybinds = {
    ["Clockwork Hammer"] = Enum.KeyCode.R,
    ["Scarletsteel Pickaxe"] = Enum.KeyCode.T,
    ["Steel Axe"] = Enum.KeyCode.Y,
    ["Steel Shovel"] = Enum.KeyCode.F,
    ["Pruning Shears"] = Enum.KeyCode.G,
}

-- State tracking
local loopStates = {}
local labelReferences = {}

-- Create GUI tab and section
local tab = Window:NewTab("Hotkey Loops")
local section = tab:NewSection("Tool Statuses")

-- Create labels for each tool
for toolName, keyCode in pairs(toolKeybinds) do
    loopStates[toolName] = false
    labelReferences[toolName] = section:NewLabel(toolName .. ": [DISABLED] (Key: " .. keyCode.Name .. ")")
end

-- Handle input
UserInputService.InputBegan:Connect(function(input, processed)
    if processed then return end

    for toolName, keyCode in pairs(toolKeybinds) do
        if input.KeyCode == keyCode then
            loopStates[toolName] = not loopStates[toolName]
            local status = loopStates[toolName] and "ENABLED" or "DISABLED"
            labelReferences[toolName]:UpdateLabel(toolName .. ": [" .. status .. "] (Key: " .. keyCode.Name .. ")")
        end
    end
end)

-- Loop logic
task.spawn(function()
    while true do
        local char = LocalPlayer.Character
        if char then
            for toolName, enabled in pairs(loopStates) do
                if enabled then
                    local tool = char:FindFirstChild(toolName)
                    if tool then
                        workspace.Remotes.UseItem:FireServer(tool, false)
                    end
                end
            end
        end
        task.wait(0.1)
    end
end)
