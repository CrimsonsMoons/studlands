-- Load Kavo UI
local Library = loadstring(game:HttpGet("https://raw.githubusercontent.com/xHeptco/KnifeHub/main/UILib.lua"))()
local Window = Library.CreateLib("StudLand V2 - Keybind Loops", "Ocean")

local Players = game:GetService("Players")
local UserInputService = game:GetService("UserInputService")

local LocalPlayer = Players.LocalPlayer

-- Tool keybind mappings
local toolKeybinds = {
    ["Clockwork Hammer"] = Enum.KeyCode.R,
    ["Scarletsteel Pickaxe"] = Enum.KeyCode.T,
    ["Steel Axe"] = Enum.KeyCode.Y,
    ["Steel Shovel"] = Enum.KeyCode.F,
    ["Pruning Shears"] = Enum.KeyCode.G,
}

-- Status tracking
local loopStates = {}
local labelReferences = {}

-- GUI setup
local tab = Window:NewTab("Tool Keybinds")
local section = tab:NewSection("Status by Hotkey")

for toolName, key in pairs(toolKeybinds) do
    loopStates[toolName] = false
    labelReferences[toolName] = section:NewLabel(toolName .. ": [DISABLED] (Key: " .. key.Name .. ")")
end

-- Keybind logic
UserInputService.InputBegan:Connect(function(input, gameProcessed)
    if gameProcessed then return end

    for toolName, keyCode in pairs(toolKeybinds) do
        if input.KeyCode == keyCode then
            loopStates[toolName] = not loopStates[toolName]
            local status = loopStates[toolName] and "ENABLED" or "DISABLED"
            labelReferences[toolName]:UpdateLabel(toolName .. ": [" .. status .. "] (Key: " .. keyCode.Name .. ")")
        end
    end
end)

-- Loop executor
task.spawn(function()
    while true do
        for toolName, isActive in pairs(loopStates) do
            if isActive then
                local char = LocalPlayer.Character
                local tool = char and char:FindFirstChild(toolName)
                if tool then
                    workspace.Remotes.UseItem:FireServer(tool, false)
                end
            end
        end
        task.wait(0.1)
    end
end)
